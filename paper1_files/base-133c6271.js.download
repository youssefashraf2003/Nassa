import{l as r,A as S,x as p,U as w,I as _,B as L}from"./vendor-2862a4d9.js";function N(){try{throw new Error}catch(o){return o.stack}}const B={apply(o){const t=o.methodFactory;o.methodFactory=(e,s,n)=>{const i=t(e,s,n);return(...c)=>{if(e==="error"&&window.ncbi.pinger&&window.ncbi.pinger._handleError){const a=N();window.ncbi.pinger._handleError({message:a})}i(...c)}},o.setLevel(o.getLevel())}};function E(o){return!o||!o.length?"":o.replace(/&#?[0-9a-zA-Z]+;?/g,t=>{if(t.charAt(1)==="#"){const e=t.charAt(2).toLowerCase()==="x"?parseInt(t.substr(3),16):parseInt(t.substr(2),10);return Number.isNaN(e)||e<-32768||e>65535?"":String.fromCharCode(e)}return t})}const T="pmc-search--exact";class y{constructor(t,e='input[type="search"]'){this.selector=e,this.autocomplete=null,this.endpoint=t,this.placeholder="",this._cache={}}_rebuildCache(t){if(!this._cache[t]){let e;for(let s=1,n=t.length,i;s<=10&&s<n&&(i=t.substring(0,t.length-s),e=this._cache[i],!e);s++);if(e&&e.isCompleteList===!0){const s=e.suggestions.filter(n=>n.toLowerCase().includes(t));this._cache[t]={isCompleteList:!0,suggestions:s}}}}init(){var t;if(!this.endpoint){r.error("No endpoint provided for autocomplete");return}this.autocomplete=new S({selector:this.selector,wrapper:!1,placeHolder:this.placeholder,threshold:2,debounce:300,submit:!0,searchEngine:(e,s)=>s,data:{src:async e=>{const s=e.toLowerCase().replace(/[<>=&"//]/g," ").replace(/\s+/g," ");if(this._rebuildCache(s),s in this._cache)return this._cache[s].suggestions;const n=await fetch(`${this.endpoint}?q=${e}&format=json_full`);if(!n.ok)return[];let i=[];try{i=await n.json()}catch{r.error("Failed to parse autocomplete response")}return this._cache[s]={isCompleteList:!!i.flag,suggestions:i.terms.map(c=>c.split("@")[0])},this._rebuildCache(s),this._cache[s].suggestions}},resultsList:{noResults:!1,maxResults:5,element:(e,s)=>{const n=document.createElement("p");s.results.length>=0&&(n.innerHTML=`Found <strong>${s.results.length}</strong> matching results`),e.prepend(n)}},events:{input:{selection:e=>{let s=E(e.detail.selection.value);e.target.classList.contains(T)&&(s=`"${s}"`),e.target.value=s}}}}),r.debug(`Autocomplete initialized for ${(t=this.autocomplete.input)==null?void 0:t.id} with endpoint ${this.endpoint}`)}}function A(o,t=300){let e=!1;return()=>{e||(e=!0,setTimeout(()=>{o.apply(this,arguments),e=!1},t))}}class l{constructor(t=".back-to-top",e=20){this.windowScrollElement=document.querySelector("html, body"),this.backToTopButton=document.querySelector(`${t}`),this.offset=e||0}init(){this.backToTopButton&&(r.debug("BackToTop init"),this.initBackToTopButton(),this.initScroll())}static on(t=".back-to-top",e=20){const s=new l(t,e);return s.init(),s}initBackToTopButton(){this.backToTopButton.addEventListener("click",t=>{t.preventDefault(),this.windowScrollElement.scrollTo({top:0,behavior:"smooth"})})}initScroll(){let t=0;const e=()=>{const s=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop,n=s>this.offset&&s<t;this.backToTopButton.classList.toggle("visible",n),t=s};window.addEventListener("scroll",A(e,300))}}const k=l,b="pmc-header",v=`${b}__search`,$=`${v}__button`;class q{constructor(){var t,e;this.header=document.querySelector(`.${b}`),this.searchContainer=(t=this.header)==null?void 0:t.querySelector(`.${v}`),this.searchButton=(e=this.header)==null?void 0:e.querySelector(`.${$}`)}handleSearchButtonClick(){r.debug("HeaderSearch: handleSearchButtonClick"),this.searchContainer.classList.toggle("is-visible"),this.searchButton.classList.toggle("is-open"),this.searchButton.ariaLabel=this.searchButton.classList.contains("is-open")?"Close search":"Open search"}init(){var t;if(!this.searchContainer){r.debug("HeaderSearch: search container not found");return}(t=this.searchButton)==null||t.addEventListener("click",this.handleSearchButtonClick.bind(this))}}class I{constructor(){this.container=document.querySelector("header.usa-header .usa-nav"),this.observable=document.querySelector(".ncbi-header__hamburger-button"),this.observer=null}init(){if(!this.container||!this.observable){r.debug("PrimeContainer: container not found or observable button not found");return}r.debug("PrimeContainer: init");const t=Array.from(document.querySelectorAll('[data-prime-container="true"]')).map(e=>[e,e.parentNode]);if(!(t!=null&&t.length)){r.debug("PrimeContainer: no elements to move");return}this.observer=new IntersectionObserver(e=>{e.forEach(({isIntersecting:s})=>{t.forEach(([n,i])=>{s&&n.parentNode!==this.container?this.container.appendChild(n):!s&&n.parentNode!==i&&i.appendChild(n)})})},{threshold:[0,1]}),this.observer.observe(this.observable)}}const x="pmc-sidenav",d=`${x}__container`,O=`${d}__open`,P=`${d}__close`,H="pmc-actions-bar",g="usa-js-mobile-nav--active",R="usa-in-page-nav";class h{constructor(){this.sideNavContainer=document.querySelector(`.${d}`),this.actionsBar=document.querySelector(`.${H}`),this.sideNavOpenBtns=document.querySelectorAll(`.${O}`),this.sideNavCloseBtn=document.querySelector(`.${P}`),this.inPageNav=document.querySelector(`.${R}`),this.extraClasses=[]}createSideNavToggle(t=""){return()=>{var s,n,i,c,a;const e=((s=this.sideNavContainer)==null?void 0:s.classList.contains("is-visible"))||!1;(n=this.sideNavContainer)==null||n.classList.toggle("is-visible",!e),t&&((i=this.sideNavContainer)==null||i.classList.toggle(t,!e)),document.body.classList.toggle(g,!e),e?this.extraClasses&&((a=this.sideNavContainer)==null||a.classList.remove(...this.extraClasses)):(c=this.sideNavCloseBtn)==null||c.focus()}}init(){var e,s,n;if(r.debug("Sidenav: init"),!this.sideNavContainer){r.debug("Sidenav: side navigation container not found");return}if((e=this.sideNavOpenBtns)==null||e.forEach(i=>{this.extraClasses.push(i.dataset.extraClass),i.addEventListener("click",this.createSideNavToggle(i.dataset.extraClass).bind(this))}),(s=this.sideNavCloseBtn)==null||s.addEventListener("click",this.createSideNavToggle().bind(this)),this.inPageNav&&(r.debug("Sidenav: in-page nav found and added event listener to close side nav on link click"),(n=this.inPageNav)==null||n.addEventListener("click",i=>{var c,a;i.target.tagName==="A"&&((c=this.sideNavContainer)==null||c.classList.toggle("is-visible",!1),document.body.classList.toggle(g,!1),(a=this.sideNavContainer)==null||a.classList.remove(...this.extraClasses))})),!this.actionsBar){r.debug("Sidenav: nav bar not found");return}new IntersectionObserver(i=>{i.forEach(({isIntersecting:c,target:a})=>a.classList.toggle("is-not-intersecting",!c))},{rootMargin:"-1px 0px 0px 0px",threshold:[1]}).observe(this.actionsBar)}static on(){new h().init()}}const D=h,{banner:V,accordion:F,navigation:M,modal:U,tooltip:j}=w;window.ncbi=window.ncbi||{};window.ncbi.pmc=window.ncbi.pmc||{};window.ncbi.pmc.base={init(){var i,c;const{logLevel:o="DEBUG"}=((c=(i=window==null?void 0:window.ncbi)==null?void 0:i.pmc)==null?void 0:c.options)||{};r.setLevel(o in r.levels&&r.levels[o]||r.levels.INFO),B.apply(r),V.on(),F.on(),M.on(),U.on(),j.on(),D.on(),k.on(),window.uswdsPresent=!0,new q().init(),new I().init();const s=document.querySelector(".ncbi-header__desktop-buttons button");s&&(s.dataset.gaCategory="header",s.dataset.gaAction="NCBI",s.dataset.gaLabel="header_search_open"),document.querySelectorAll('.ncbi-search-panel__container button, nav[aria-label="Primary navigation"] .usa-search--small button').forEach(a=>{a.dataset.gaCategory="header",a.dataset.gaAction="NCBI",a.dataset.gaLabel="header_search_button"}),document.querySelectorAll("input[data-autocomplete-url]").forEach(a=>{const m=a.dataset.autocompleteUrl,f=a.parentElement,C=new y(m,()=>a);a.addEventListener("init",()=>{var u;(u=f.querySelector('[role="listbox"]'))==null||u.setAttribute("aria-label","Suggestions")}),C.init()}),document.addEventListener("DOMContentLoaded",()=>{p(_),p(L)})}};window.ncbi.pmc.base.init();
